(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{20:function(e,t,c){"use strict";c.r(t);var n=c(11),i=c.n(n),s=c(6),l=c(1),a=c.n(l),o=c(2),r=c(12),d=c(5),j=c(3),b=c(8),u=c.n(b),h=c(0),m=a.a.createContext(null),O=function(e){var t=e.children,c=Object(l.useState)((function(){var e=localStorage.getItem("todos");return e&&JSON.parse(e)||[]})),n=Object(j.a)(c,2),i=n[0],s=n[1],a=Object(l.useState)([]),o=Object(j.a)(a,2),r=o[0],d=o[1];return Object(l.useEffect)((function(){d(i),localStorage.setItem("todos",JSON.stringify(i))}),[i]),Object(h.jsx)(m.Provider,{value:{todos:i,setTodos:s,filteredTodos:r,setFilteredTodos:d},children:t})},x=function(){var e=Object(l.useContext)(m),t=null===e||void 0===e?void 0:e.todos,c=null===e||void 0===e?void 0:e.setTodos,n=Object(l.useState)(!1),i=Object(j.a)(n,2),s=i[0],a=i[1],o=Object(l.useState)(""),b=Object(j.a)(o,2),O=b[0],x=b[1],f=Object(l.useMemo)((function(){var e=t&&t.filter((function(e){return!0===e.completed})).length;return e===(null===t||void 0===t?void 0:t.length)?a(!0):a(!1),e}),[t]),p=function(){O&&t&&c&&(c([].concat(Object(r.a)(t),[{id:Date.now(),title:O,completed:!1}])),x(""))};return Object(h.jsx)("form",{className:"field",style:{width:"100%"},onSubmit:function(e){e.preventDefault(),p()},children:Object(h.jsxs)("div",{className:"control",children:[Object(h.jsx)("input",{type:"text",value:O,className:"input is-primary pl-6",placeholder:"What needs to be done?",onChange:function(e){x(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),p())}}),t&&t.length>0&&Object(h.jsx)("button",{type:"button",className:u()("button icon ",{"has-text-grey-light":(null===t||void 0===t?void 0:t.length)!==f,"has-text-primary":(null===t||void 0===t?void 0:t.length)===f}),title:"select all",style:{border:"none",position:"absolute",top:"8px",left:"5px"},onClick:function(){!s&&c&&t&&c(t.map((function(e){return e.completed?(a(!1),e):Object(d.a)(Object(d.a)({},e),{},{completed:!0})}))),s&&c&&t&&c(t.map((function(e){return e.completed?Object(d.a)(Object(d.a)({},e),{},{completed:!1}):(a(!0),e)})))},children:Object(h.jsx)("i",{className:"fas fa-check"})}),O.length>0&&Object(h.jsx)("button",{type:"submit",className:"button icon has-text-primary",title:"add todo",style:{border:"none",position:"absolute",top:"8px",right:"5px"},children:Object(h.jsx)("i",{className:"fas fa-add"})})]})})},f=function(){var e=Object(l.useContext)(m),t=null===e||void 0===e?void 0:e.todos,c=null===e||void 0===e?void 0:e.setTodos,n=null===e||void 0===e?void 0:e.setFilteredTodos,i=Object(l.useState)("all"),a=Object(j.a)(i,2),o=a[0],r=a[1],d=Object(l.useState)(0),b=Object(j.a)(d,2),O=b[0],x=b[1],f=function(e){r(e)};Object(l.useEffect)((function(){if(t&&n)switch(o){case"active":n(t.filter((function(e){return!1===e.completed})));break;case"completed":n(t.filter((function(e){return!0===e.completed})));break;default:n(t)}}),[o]);var p=Object(l.useMemo)((function(){var e=t?t.filter((function(e){return!0===e.completed})).length:0;return e>0&&x(e),0===e&&x(0),e}),[t]);return Object(h.jsx)(h.Fragment,{children:t&&t.length>0&&Object(h.jsx)("div",{className:"panel-block",children:Object(h.jsx)("div",{className:"field",style:{width:"100%"},children:Object(h.jsx)("div",{className:"conteiner",children:Object(h.jsxs)("div",{className:"field is-grouped is-justify-content-space-between",children:[Object(h.jsx)("div",{className:"content mb-0",children:Object(h.jsx)("p",{className:"is-size-6",children:t&&"".concat((null===t||void 0===t?void 0:t.length)-O,"\n                  ").concat((null===t||void 0===t?void 0:t.length)-O===1?" item":" items"," left")})}),Object(h.jsx)("div",{className:"conteiner mb-0",children:Object(h.jsxs)("div",{className:"panel-tabs tabs is-small mb-0",style:{borderRadius:"20px",border:"0.5px solid lightgrey"},children:[Object(h.jsx)(s.b,{to:"/",className:function(e){var t=e.isActive;return u()({"is-active has-text-white has-background-primary":t})},onClick:function(){return f("all")},children:"All"}),Object(h.jsx)(s.b,{to:"/active",className:function(e){var t=e.isActive;return u()({"is-active has-text-white has-background-primary":t})},style:{borderLeft:"0.5px solid lightgrey",borderRight:"0.5px solid lightgrey"},onClick:function(){return f("active")},children:"Active"}),Object(h.jsx)(s.b,{to:"/completed",className:function(e){var t=e.isActive;return u()({"is-active has-text-white has-background-primary":t})},onClick:function(){return f("completed")},children:"Completed"})]})}),Object(h.jsx)("div",{className:"conteiner mb-0",style:{visibility:0===p?"hidden":"visible"},children:Object(h.jsx)("div",{className:"buttons",children:Object(h.jsx)("button",{type:"button",className:"button is-danger is-rounded is-small",onClick:function(){t&&c&&c(t.filter((function(e){return!1===e.completed})))},children:"Clear completed"})})})]})})})})})},p=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"conteiner is-max-widescreen px-6",children:Object(h.jsx)("div",{className:"box m-auto",style:{maxWidth:"600px",minWidth:"400px"},children:Object(h.jsxs)("div",{className:"panel is-primary",children:[Object(h.jsx)("h1",{className:"panel-heading has-text-centered is-size-1",children:"TODOS"}),Object(h.jsx)("div",{className:"panel-block",children:Object(h.jsx)(x,{})}),Object(h.jsx)(o.a,{}),Object(h.jsx)(f,{})]})})})})},v=function(e){var t=e.id,c=e.title,n=e.completed,i=Object(l.useState)(c),s=Object(j.a)(i,2),a=s[0],o=s[1],r=Object(l.useState)(!1),b=Object(j.a)(r,2),u=b[0],O=b[1],x=Object(l.useState)(a),f=Object(j.a)(x,2),p=f[0],v=f[1],g=Object(l.useContext)(m),y=null===g||void 0===g?void 0:g.todos,N=null===g||void 0===g?void 0:g.setTodos,k=function(){O(!0)},C=function(e){y&&N&&N(y.map((function(t){return e===t.id?Object(d.a)(Object(d.a)({},t),{},{title:p}):t})))};return Object(h.jsx)("li",{children:Object(h.jsxs)("div",{className:"field is-grouped is-justify-content-space-between",children:[Object(h.jsxs)("div",{className:"field",style:{width:"80%"},children:[Object(h.jsxs)("label",{className:"field",title:"done",onDoubleClick:k,children:[Object(h.jsxs)("span",{className:"icon has-text-primary",children:[!1===n&&Object(h.jsx)("i",{className:"fa-regular fa-circle mx-1"}),!0===n&&Object(h.jsx)("i",{className:"fa-regular fa-circle-check mx-1"})]}),Object(h.jsx)("input",{type:"checkbox",checked:n,style:{visibility:"hidden"},onChange:function(){return e=t,void(y&&N&&N(y.map((function(t){return e===t.id?Object(d.a)(Object(d.a)({},t),{},{completed:!t.completed}):t}))));var e}})]}),Object(h.jsx)("label",{className:"field",onDoubleClick:k,children:u?Object(h.jsx)("input",{type:"text",value:p,className:"input is-primary",style:{width:"80%"},onChange:function(e){v(e.target.value)},onKeyDown:function(e){return n=t,"Enter"===(c=e).key&&(c.preventDefault(),o(p),C(n),O(!1)),void("Escape"===c.key&&(c.preventDefault(),v(a),O(!1)));var c,n},onBlur:function(){return e=t,o(p),C(e),void O(!1);var e},autoFocus:!0}):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("p",{style:{width:"80%",display:"inline-block",textDecoration:!0===n?"line-through":"none",color:!0===n?"grey":"black"},children:a})})})]}),Object(h.jsxs)("div",{className:"buttons",children:[Object(h.jsx)("button",{type:"button",className:"button icon has-text-info",title:"edit",style:{border:"none"},disabled:u,onClick:function(){O(!0)},children:Object(h.jsx)("i",{className:"fas fa-solid fa-feather fa-aling-right"})}),Object(h.jsx)("button",{type:"button",className:"button icon has-text-danger",title:"delete",style:{border:"none"},disabled:u,onClick:function(){return e=t,void(y&&N&&N(y.filter((function(t){return t.id!==e}))));var e},children:Object(h.jsx)("i",{className:"fas fa-solid fa-circle-xmark fa-aling-right"})})]})]})})},g=function(){var e=Object(l.useContext)(m),t=null===e||void 0===e?void 0:e.filteredTodos;return Object(h.jsx)(h.Fragment,{children:t&&t.length>0&&Object(h.jsx)("div",{className:"panel-block",children:Object(h.jsx)("div",{className:"content",style:{width:"100%"},children:Object(h.jsx)("ul",{className:"m-0",style:{listStyle:"none"},children:t.map((function(e){return Object(h.jsx)(v,Object(d.a)({},e),e.id)}))})})})})},y=function(){return Object(h.jsx)("p",{className:"has-text-centered has-text-danger is-size-2",children:"Page not found"})},N=(c(18),c(19),function(){return Object(h.jsx)(O,{children:Object(h.jsx)(o.d,{children:Object(h.jsxs)(o.b,{path:"/",element:Object(h.jsx)(p,{}),children:[Object(h.jsx)(o.b,{index:!0,element:Object(h.jsx)(g,{})}),Object(h.jsx)(o.b,{path:"active",element:Object(h.jsx)(g,{})}),Object(h.jsx)(o.b,{path:"completed",element:Object(h.jsx)(g,{})}),Object(h.jsx)(o.b,{path:"*",element:Object(h.jsx)(y,{})})]})})})});i.a.render(Object(h.jsx)(s.a,{children:Object(h.jsx)(N,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.00dcca62.chunk.js.map